# 密码机游戏测试清单

> **使用说明：** 在每个测试用例前勾选 ✓ 或 ✗ 标记执行状态
> **更新频率：** 每次测试执行后更新
> **负责人：** ________
> **测试周期：** ________

---

## 📊 总体进度

| 测试类别 | 用例总数 | 已执行 | 通过 | 失败 | 通过率 | 状态 |
|---------|---------|--------|------|------|--------|------|
| 核心算法 | 12 | [ ] | [ ] | [ ] | - | ⏳ |
| 星级评定 | 5 | [ ] | [ ] | [ ] | - | ⏳ |
| 游戏状态 | 7 | [ ] | [ ] | [ ] | - | ⏳ |
| 进度管理 | 6 | [ ] | [ ] | [ ] | - | ⏳ |
| 关卡星级 | 7 | [ ] | [ ] | [ ] | - | ⏳ |
| 结果处理 | 4 | [ ] | [ ] | [ ] | - | ⏳ |
| 统计功能 | 3 | [ ] | [ ] | [ ] | - | ⏳ |
| 关卡加载 | 8 | [ ] | [ ] | [ ] | - | ⏳ |
| 配置验证 | 7 | [ ] | [ ] | [ ] | - | ⏳ |
| 缓存功能 | 2 | [ ] | [ ] | [ ] | - | ⏳ |
| 页面导航 | 10 | [ ] | [ ] | [ ] | - | ⏳ |
| **总计** | **71** | **___** | **___** | **___** | **___%** | - |

---

## 1️⃣ 核心算法测试（P0）

### ALG-001: 全中场景
- [ ] 执行测试：4个位置和颜色都完全匹配
- [ ] 预期结果：hits=4, pseudoHits=0
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### ALG-002: 全错场景
- [ ] 执行测试：没有任何颜色匹配
- [ ] 预期结果：hits=0, pseudoHits=0
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### ALG-003: 位置全错颜色全对 ⭐**重点**
- [ ] 执行测试：4个颜色都对，但位置全错
  - 密码：red, yellow, green, blue
  - 猜测：blue, green, red, yellow
- [ ] 预期结果：hits=0, pseudoHits=4
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败
- [ ] 备注：**用户发现的问题场景**

### ALG-004: 部分命中
- [ ] 执行测试：2个位置对，其他全错
- [ ] 预期结果：hits=2, pseudoHits=0
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### ALG-005: 颜色对位置错
- [ ] 执行测试：所有颜色对但位置都错
- [ ] 预期结果：hits=0, pseudoHits=4
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### ALG-006: 混合情况
- [ ] 执行测试：1个位置对，2个颜色对位置错
- [ ] 预期结果：hits=1, pseudoHits=2
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### ALG-007: 重复颜色-密码中有重复
- [ ] 执行测试：密码有重复颜色
- [ ] 预期结果：正确计算，不重复计数
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### ALG-008: 重复颜色-猜测中有重复
- [ ] 执行测试：猜测有重复颜色
- [ ] 预期结果：正确计算
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### ALG-009: 重复颜色-多个匹配
- [ ] 执行测试：复杂的重复颜色场景
- [ ] 预期结果：正确计数
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### ALG-010: 4种颜色边界测试
- [ ] 执行测试：使用最小4种颜色
- [ ] 预期结果：工作正常
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### ALG-011: 6种颜色测试
- [ ] 执行测试：使用最大6种颜色
- [ ] 预期结果：工作正常
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### ALG-012: 长度不匹配异常
- [ ] 执行测试：猜测长度与密码不匹配
- [ ] 预期结果：抛出异常
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

---

## 2️⃣ 星级评定测试（P0）

### STAR-001: 3星-优秀（≤30%）
- [ ] 测试数据：3次/10次
- [ ] 预期结果：⭐⭐⭐
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### STAR-002: 2星-良好（≤60%）
- [ ] 测试数据：6次/10次
- [ ] 预期结果：⭐⭐
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### STAR-003: 1星-及格（>60%）
- [ ] 测试数据：7次/10次
- [ ] 预期结果：⭐
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### STAR-004: 边界-3星
- [ ] 测试数据：正好30%
- [ ] 预期结果：⭐⭐⭐
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### STAR-005: 边界-2星
- [ ] 测试数据：正好60%
- [ ] 预期结果：⭐⭐
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

---

## 3️⃣ 游戏状态管理测试（P0）

### GAME-STATE-001: 创建初始游戏
- [ ] 执行测试：调用 createGame
- [ ] 预期结果：所有字段初始化正确
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### GAME-STATE-002: 更新当前猜测
- [ ] 执行测试：调用 updateCurrentGuess
- [ ] 预期结果：对应槽位颜色更新
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### GAME-STATE-003: 清空当前猜测
- [ ] 执行测试：调用 clearCurrentGuess
- [ ] 预期结果：所有槽位清空
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### GAME-STATE-004: 检查猜测完整性
- [ ] 执行测试：填写部分/完整猜测
- [ ] 预期结果：正确识别是否完整
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### GAME-STATE-005: 提交猜测-正常
- [ ] 执行测试：提交完整猜测
- [ ] 预期结果：attempts 数组增加
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### GAME-STATE-006: 检测胜利
- [ ] 执行测试：提交正确密码
- [ ] 预期结果：status = 'won'
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### GAME-STATE-007: 检测失败
- [ ] 执行测试：用完次数未猜中
- [ ] 预期结果：status = 'lost'
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

---

## 4️⃣ 数据持久化测试（P0）

### DATA-001: 保存游戏进度
- [ ] 执行测试：保存进度
- [ ] 预期结果：数据正确保存
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### DATA-002: 加载游戏进度
- [ ] 执行测试：重启应用后加载
- [ ] 预期结果：数据与保存时一致
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### DATA-003: 清空数据
- [ ] 执行测试：调用 clearAllData
- [ ] 预期结果：恢复初始状态
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### DATA-004: 数据完整性
- [ ] 执行测试：频繁操作
- [ ] 预期结果：数据不损坏
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### DATA-005: 首次启动
- [ ] 执行测试：首次安装运行
- [ ] 预期结果：显示初始状态
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### DATA-006: 统计数据持久化
- [ ] 执行测试：玩几局后重启
- [ ] 预期结果：统计数据保持
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

---

## 5️⃣ 关卡星级测试（P0）

### LEVEL-STARS-001: 保存初级关卡星级
- [ ] 执行测试：更新初级关卡星级
- [ ] 预期结果：正确保存
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### LEVEL-STARS-002: 保存高级关卡星级
- [ ] 执行测试：更新高级关卡星级
- [ ] 预期结果：正确保存
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### LEVEL-STARS-003: 只保留最高星级
- [ ] 执行测试：先1星后3星
- [ ] 预期结果：保持3星
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### LEVEL-STARS-004: 未通关关卡星级为0
- [ ] 执行测试：查询未玩关卡
- [ ] 预期结果：返回0
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### LEVEL-STARS-005: 批量获取星级
- [ ] 执行测试：一次获取多个关卡
- [ ] 预期结果：返回正确映射
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### LEVEL-STARS-006: 星级不降级
- [ ] 执行测试：先高星后低星
- [ ] 预期结果：保持高星级
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### LEVEL-STARS-007: 星级累计计算
- [ ] 执行测试：多个关卡不同星级
- [ ] 预期结果：总星级正确
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

---

## 6️⃣ 游戏结果处理测试（P0）

### RESULT-001: 胜利处理-初级关卡
- [ ] 执行测试：通关第5关
- [ ] 预期结果：第6关解锁
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### RESULT-002: 胜利处理-初级第100关
- [ ] 执行测试：通关第100关
- [ ] 预期结果：高级模式解锁
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### RESULT-003: 胜利处理-高级关卡
- [ ] 执行测试：通关第150关
- [ ] 预期结果：第151关解锁
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### RESULT-004: 失败处理
- [ ] 执行测试：次数用完未猜中
- [ ] 预期结果：连胜清零
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

---

## 7️⃣ 用户统计测试（P0）

### STATS-001: 基本统计计算
- [ ] 执行测试：查看统计数据
- [ ] 预期结果：各项统计正确
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### STATS-002: 胜率计算
- [ ] 执行测试：15胜/20局
- [ ] 预期结果：胜率75%
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### STATS-003: 零局数处理
- [ ] 执行测试：新用户统计
- [ ] 预期结果：胜率0%
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

---

## 8️⃣ 关卡加载测试（P0）

### LEVEL-LOAD-001: 加载初级第1关
- [ ] 执行测试：获取第1关
- [ ] 预期结果：配置正确
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### LEVEL-LOAD-002: 加载初级第100关
- [ ] 执行测试：获取第100关
- [ ] 预期结果：难度为easy
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### LEVEL-LOAD-003: 加载高级第101关
- [ ] 执行测试：获取第101关
- [ ] 预期结果：难度为hard
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### LEVEL-LOAD-004: 加载高级第200关
- [ ] 执行测试：获取第200关
- [ ] 预期结果：配置正确
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### LEVEL-LOAD-005: 密码确定性
- [ ] 执行测试：同一关卡加载两次
- [ ] 预期结果：密码相同
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### LEVEL-LOAD-006: 密码随机性
- [ ] 执行测试：不同关卡密码
- [ ] 预期结果：密码各不相同
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### LEVEL-LOAD-007: 颜色数量4色
- [ ] 执行测试：第1关颜色数
- [ ] 预期结果：colorCount=4
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### LEVEL-LOAD-008: 颜色数量6色
- [ ] 执行测试：高级关卡颜色数
- [ ] 预期结果：colorCount<=6
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

---

## 9️⃣ 配置验证测试（P1）

### CONFIG-001: 最大尝试次数
- [ ] 验证：所有关卡 maxAttempts=7
- [ ] 预期结果：全部正确
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### CONFIG-002: 密码长度
- [ ] 验证：所有关卡密码长度=4
- [ ] 预期结果：全部正确
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### CONFIG-003: 初级提示模式
- [ ] 验证：初级关卡 hintMode='mapped'
- [ ] 预期结果：全部正确
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### CONFIG-004: 高级提示模式
- [ ] 验证：高级关卡 hintMode='unmapped'
- [ ] 预期结果：全部正确
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### CONFIG-005: 密码颜色有效性
- [ ] 验证：密码颜色在可用范围内
- [ ] 预期结果：全部有效
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### CONFIG-006: 颜色数量限制
- [ ] 验证：使用的颜色不超过colorCount
- [ ] 预期结果：符合限制
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### CONFIG-007: 边界关卡配置
- [ ] 验证：1/100/101/200关配置
- [ ] 预期结果：配置正确
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

---

## 🔟 缓存功能测试（P1）

### CACHE-001: 缓存命中
- [ ] 执行测试：加载两次相同关卡
- [ ] 预期结果：返回缓存对象
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### CACHE-002: 缓存清理
- [ ] 执行测试：clearCache后重新加载
- [ ] 预期结果：重新生成对象
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

---

## 1️⃣1️⃣ 页面导航测试（P1）

### NAV-001: 主页启动
- [ ] 执行测试：打开应用
- [ ] 预期结果：显示主菜单
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### NAV-002: 初级关卡选择
- [ ] 执行测试：点击"单人闯关"
- [ ] 预期结果：跳转到初级选择页
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### NAV-003: 高级关卡选择未解锁
- [ ] 执行测试：未解锁时点击"高级挑战"
- [ ] 预期结果：显示锁定状态
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### NAV-004: 高级关卡选择已解锁
- [ ] 执行测试：解锁后点击"高级挑战"
- [ ] 预期结果：跳转到高级选择页
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### NAV-005: 练习模式
- [ ] 执行测试：点击"练习模式"
- [ ] 预期结果：跳转到练习页
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### NAV-006: 双人对战
- [ ] 执行测试：点击"双人对战"
- [ ] 预期结果：跳转到对战设置页
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### NAV-007: 设置页面
- [ ] 执行测试：点击"设置"
- [ ] 预期结果：跳转到设置页
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### NAV-008: 返回按钮-游戏页
- [ ] 执行测试：游戏页点击返回
- [ ] 预期结果：返回上一页
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### NAV-009: 返回按钮-关卡选择
- [ ] 执行测试：关卡选择页点击返回
- [ ] 预期结果：返回主页
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

### NAV-010: 返回主页清空栈
- [ ] 执行测试：调用 backToHome
- [ ] 预期结果：清空路由栈并回主页
- [ ] 实际结果：_______
- [ ] 状态：☐ 通过 ☐ 失败

---

## 📝 测试总结

### 测试执行信息

**测试人员：** ________
**测试日期：** ________
**测试环境：** ☐ 模拟器 ☐ 真机（型号：______）
**系统版本：** ________
**应用版本：** ________

### 缺陷统计

| 严重程度 | 数量 | 缺陷ID列表 |
|---------|------|-----------|
| Critical | ___ | _____ |
| High | ___ | _____ |
| Medium | ___ | _____ |
| Low | ___ | _____ |

### 测试结论

**建议：** ☐ 通过可以发布  ☐ 有问题需修复  ☐ 阻断发布

**备注：**
_______________________________________
_______________________________________

**签字：** ________
**日期：** ________

---

## 📌 快速检查清单

### 冒烟测试（发布前必测）

- [ ] ALG-003: 4色位置全错算法 ⭐
- [ ] STAR-001~003: 星级评定边界值
- [ ] DATA-001~002: 进度保存和加载
- [ ] LEVEL-LOAD-001~004: 边界关卡加载
- [ ] RESULT-001~002: 解锁逻辑
- [ ] GAME-STATE-006~007: 胜利失败检测

### 回归测试（每次发布）

- [ ] 所有 P0 级别用例（29个）
- [ ] 最新修复的相关用例

---

**检查清单版本：** v1.0
**最后更新：** 2026-01-27
**维护者：** Claude Code
