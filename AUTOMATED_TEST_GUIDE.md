# è‡ªåŠ¨åŒ–æµ‹è¯•æ‰§è¡ŒæŒ‡å—

## ğŸ“‹ æµ‹è¯•æ–‡ä»¶ç»“æ„

```
entry/src/ohosTest/ets/test/
â”œâ”€â”€ Ability.test.ets          # ç³»ç»Ÿç”Ÿæˆçš„å…¥å£æµ‹è¯•
â”œâ”€â”€ List.test.ets              # ç³»ç»Ÿç”Ÿæˆçš„åˆ—è¡¨æµ‹è¯•
â”œâ”€â”€ GameService.test.ets       # âœ¨ æ ¸å¿ƒç®—æ³•æµ‹è¯•
â”œâ”€â”€ UserRepository.test.ets    # âœ¨ æ•°æ®æŒä¹…åŒ–æµ‹è¯•
â”œâ”€â”€ LevelRepository.test.ets   # âœ¨ å…³å¡æ•°æ®æµ‹è¯•
â”œâ”€â”€ Navigator.test.ets         # âœ¨ å¯¼èˆªæµ‹è¯•
â””â”€â”€ AllTests.test.ets          # âœ¨ æµ‹è¯•å¥—ä»¶å…¥å£
```

## ğŸš€ å¦‚ä½•è¿è¡Œæµ‹è¯•

### æ–¹æ³•ä¸€ï¼šé€šè¿‡ DevEco Studio è¿è¡Œ

1. **æ‰“å¼€æµ‹è¯•æ–‡ä»¶**
   - åœ¨ DevEco Studio ä¸­æ‰“å¼€ä»»æ„æµ‹è¯•æ–‡ä»¶
   - å³é”®ç‚¹å‡»æ–‡ä»¶ â†’ **Run 'xxxTest'**
   - æˆ–ç‚¹å‡»æ–‡ä»¶å·¦ä¾§çš„ç»¿è‰²è¿è¡ŒæŒ‰é’®

2. **è¿è¡Œæ•´ä¸ªæµ‹è¯•å¥—ä»¶**
   - å³é”®ç‚¹å‡» `ohosTest` ç›®å½•
   - é€‰æ‹© **Run 'ohosTest'**

3. **æŸ¥çœ‹æµ‹è¯•ç»“æœ**
   - åº•éƒ¨ä¼šæ˜¾ç¤º **Run** é¢æ¿
   - æ˜¾ç¤ºæµ‹è¯•æ‰§è¡ŒçŠ¶æ€ï¼šâœ… é€šè¿‡ / âŒ å¤±è´¥
   - ç‚¹å‡»å¤±è´¥çš„æµ‹è¯•å¯æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯

### æ–¹æ³•äºŒï¼šé€šè¿‡å‘½ä»¤è¡Œè¿è¡Œ

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/ryan/cryptographic

# è¿è¡Œæµ‹è¯•
hvigorw test

# è¿è¡Œç‰¹å®šæµ‹è¯•æ¨¡å—
hvigorw test --module entry

# è¿è¡Œå¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Šï¼ˆå¦‚æœé…ç½®äº†ï¼‰
hvigorw test --coverage
```

### æ–¹æ³•ä¸‰ï¼šåœ¨è®¾å¤‡/æ¨¡æ‹Ÿå™¨ä¸Šè¿è¡Œ

1. å¯åŠ¨æ¨¡æ‹Ÿå™¨æˆ–è¿æ¥çœŸæœº
2. åœ¨ DevEco Studio ä¸­é€‰æ‹©æµ‹è¯•è®¾å¤‡
3. å³é”®ç‚¹å‡»æµ‹è¯•æ–‡ä»¶ â†’ **Run 'xxxTest'**
4. æµ‹è¯•ä¼šå®‰è£…åˆ°è®¾å¤‡å¹¶æ‰§è¡Œ
5. åœ¨ DevEco Studio çš„ **Hilog** ä¸­æŸ¥çœ‹æµ‹è¯•æ—¥å¿—

## ğŸ“Š æµ‹è¯•ç”¨ä¾‹åˆ†ç±»

### P0 - æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•ï¼ˆå†’çƒŸæµ‹è¯•ï¼‰

**å¿…é¡»é€šè¿‡æ‰èƒ½å‘å¸ƒæ–°ç‰ˆæœ¬**

- âœ… Mastermind ç®—æ³•æ­£ç¡®æ€§ï¼ˆ12ä¸ªç”¨ä¾‹ï¼‰
- âœ… æ¸¸æˆçŠ¶æ€ç®¡ç†ï¼ˆ7ä¸ªç”¨ä¾‹ï¼‰
- âœ… æ•°æ®ä¿å­˜å’ŒåŠ è½½ï¼ˆ6ä¸ªç”¨ä¾‹ï¼‰
- âœ… å…³å¡è§£é”é€»è¾‘ï¼ˆ4ä¸ªç”¨ä¾‹ï¼‰

**æ€»è®¡ï¼š~29ä¸ªç”¨ä¾‹**

### P1 - é‡è¦åŠŸèƒ½æµ‹è¯•

- âœ… æ˜Ÿçº§è¯„å®šï¼ˆ4ä¸ªç”¨ä¾‹ï¼‰
- âœ… æ‰¹é‡æ“ä½œï¼ˆ3ä¸ªç”¨ä¾‹ï¼‰
- âœ… è¾¹ç•Œæƒ…å†µï¼ˆ5ä¸ªç”¨ä¾‹ï¼‰
- âœ… å¯¼èˆªåŠŸèƒ½ï¼ˆ15ä¸ªç”¨ä¾‹ï¼‰

**æ€»è®¡ï¼š~27ä¸ªç”¨ä¾‹**

### P2 - æ¬¡è¦åŠŸèƒ½æµ‹è¯•

- æ€§èƒ½æµ‹è¯•
- UIæµ‹è¯•ï¼ˆå¾…æ·»åŠ ï¼‰
- å…¼å®¹æ€§æµ‹è¯•ï¼ˆå¾…æ·»åŠ ï¼‰

## ğŸ” æµ‹è¯•è¦†ç›–è¯´æ˜

### GameService.test.ets - æ ¸å¿ƒç®—æ³•æµ‹è¯•

```
âœ“ ç®—æ³•æ­£ç¡®æ€§æµ‹è¯•ï¼ˆ12ä¸ªï¼‰
  - ALG-001: å…¨ä¸­åœºæ™¯
  - ALG-002: å…¨é”™åœºæ™¯
  - ALG-003: ä½ç½®å…¨é”™é¢œè‰²å…¨å¯¹ â­ é‡ç‚¹
  - ALG-004~009: å„ç§ç»„åˆåœºæ™¯
  - ALG-010: è¾¹ç•Œæµ‹è¯•
  - ALG-012: å¼‚å¸¸å¤„ç†

âœ“ æ˜Ÿçº§è¯„å®šæµ‹è¯•ï¼ˆ5ä¸ªï¼‰
  - 3æ˜Ÿè¾¹ç•Œï¼ˆâ‰¤30%ï¼‰
  - 2æ˜Ÿè¾¹ç•Œï¼ˆâ‰¤60%ï¼‰
  - 1æ˜Ÿè¾¹ç•Œï¼ˆ>60%ï¼‰
  - è¾¹ç•Œå€¼æµ‹è¯•

âœ“ æ¸¸æˆçŠ¶æ€ç®¡ç†æµ‹è¯•ï¼ˆ7ä¸ªï¼‰
  - åˆ›å»ºæ¸¸æˆ
  - æ›´æ–°çŒœæµ‹
  - æ¸…ç©ºçŒœæµ‹
  - æäº¤çŒœæµ‹
  - èƒœåˆ©/å¤±è´¥æ£€æµ‹

âœ“ æ€§èƒ½æµ‹è¯•ï¼ˆ1ä¸ªï¼‰
  - ç®—æ³•æ‰§è¡Œæ—¶é—´ <100ms
```

### UserRepository.test.ets - æ•°æ®æŒä¹…åŒ–æµ‹è¯•

```
âœ“ è¿›åº¦ç®¡ç†æµ‹è¯•ï¼ˆ6ä¸ªï¼‰
  - é¦–æ¬¡å¯åŠ¨
  - ä¿å­˜/åŠ è½½è¿›åº¦
  - æ•°æ®æ¸…ç©º

âœ“ å…³å¡æ˜Ÿçº§æµ‹è¯•ï¼ˆ7ä¸ªï¼‰
  - ä¿å­˜æ˜Ÿçº§
  - åªä¿ç•™æœ€é«˜æ˜Ÿçº§
  - æ‰¹é‡è·å–æ˜Ÿçº§

âœ“ æ¸¸æˆç»“æœå¤„ç†æµ‹è¯•ï¼ˆ4ä¸ªï¼‰
  - èƒœåˆ©å¤„ç†
  - å¤±è´¥å¤„ç†
  - è§£é”é€»è¾‘

âœ“ ç”¨æˆ·ç»Ÿè®¡æµ‹è¯•ï¼ˆ3ä¸ªï¼‰
  - ç»Ÿè®¡è®¡ç®—
  - èƒœç‡è®¡ç®—

âœ“ è¾¹ç•Œæµ‹è¯•ï¼ˆ3ä¸ªï¼‰
  - æœ€å¤§å…³å¡æ•°
  - å¤§æ•°æ®é‡
```

### LevelRepository.test.ets - å…³å¡æ•°æ®æµ‹è¯•

```
âœ“ å…³å¡åŠ è½½æµ‹è¯•ï¼ˆ8ä¸ªï¼‰
  - åˆçº§å…³å¡ï¼ˆ1-100ï¼‰
  - é«˜çº§å…³å¡ï¼ˆ101-200ï¼‰
  - å¯†ç ç¡®å®šæ€§
  - å¯†ç éšæœºæ€§

âœ“ é…ç½®éªŒè¯æµ‹è¯•ï¼ˆ7ä¸ªï¼‰
  - é¢œè‰²æ•°é‡
  - å¯†ç æœ‰æ•ˆæ€§
  - éš¾åº¦è®¾ç½®

âœ“ ç¼“å­˜åŠŸèƒ½æµ‹è¯•ï¼ˆ2ä¸ªï¼‰
  - ç¼“å­˜å‘½ä¸­
  - ç¼“å­˜æ¸…ç†

âœ“ æ€§èƒ½æµ‹è¯•ï¼ˆ2ä¸ªï¼‰
  - å•å…³å¡åŠ è½½æ—¶é—´
  - æ‰¹é‡åŠ è½½æ€§èƒ½
```

### Navigator.test.ets - å¯¼èˆªæµ‹è¯•

```
âœ“ é¡µé¢å¯¼èˆªæµ‹è¯•ï¼ˆ10ä¸ªï¼‰
  - ä¸»é¡µå¯¼èˆª
  - å…³å¡é€‰æ‹©å¯¼èˆª
  - æ¸¸æˆé¡µå¯¼èˆª
  - ç»“æœé¡µå¯¼èˆª
  - è¿”å›å¯¼èˆª

âœ“ è·¯ç”±å‚æ•°æµ‹è¯•ï¼ˆ1ä¸ªï¼‰
  - å‚æ•°ä¼ é€’

âœ“ å…¼å®¹æ€§æµ‹è¯•ï¼ˆ6ä¸ªï¼‰
  - æ—§æ–¹æ³•åæ”¯æŒ
```

## ğŸ“ æµ‹è¯•æŠ¥å‘Šæ¨¡æ¿

```markdown
## æµ‹è¯•æ‰§è¡ŒæŠ¥å‘Š

**æµ‹è¯•æ—¶é—´ï¼š** YYYY-MM-DD HH:mm:ss
**æµ‹è¯•äººå‘˜ï¼š** [å§“å]
**æµ‹è¯•ç‰ˆæœ¬ï¼š** [ç‰ˆæœ¬å·]

### æ‰§è¡Œæ¦‚å†µ

| æµ‹è¯•å¥—ä»¶ | æ€»ç”¨ä¾‹æ•° | é€šè¿‡ | å¤±è´¥ | é€šè¿‡ç‡ |
|---------|---------|------|------|--------|
| GameService | 25 | 24 | 1 | 96% |
| UserRepository | 20 | 20 | 0 | 100% |
| LevelRepository | 18 | 18 | 0 | 100% |
| Navigator | 15 | 15 | 0 | 100% |
| **æ€»è®¡** | **78** | **77** | **1** | **98.7%** |

### å¤±è´¥ç”¨ä¾‹è¯¦æƒ…

#### [å¤±è´¥ç”¨ä¾‹ID] ç”¨ä¾‹åç§°

**æµ‹è¯•æ–‡ä»¶ï¼š** GameService.test.ets
**é”™è¯¯ä¿¡æ¯ï¼š** Expected 4 but got 3
**é‡ç°æ­¥éª¤ï¼š**
1. ...
2. ...

**ä¸¥é‡ç¨‹åº¦ï¼š** High

---

### ç»“è®º

â–¡ é€šè¿‡ - å¯ä»¥å‘å¸ƒ
â–¡ ä¸é€šè¿‡ - éœ€è¦ä¿®å¤

### ç­¾å­—ï¼š_________
```

## ğŸ› è°ƒè¯•å¤±è´¥çš„æµ‹è¯•

### 1. æŸ¥çœ‹è¯¦ç»†é”™è¯¯

åœ¨ DevEco Studio çš„ Run é¢æ¿ä¸­ï¼š
- ç‚¹å‡»çº¢è‰²çš„å¤±è´¥æµ‹è¯•
- æŸ¥çœ‹ **Stack Trace** äº†è§£é”™è¯¯ä½ç½®
- æŸ¥çœ‹ **Console** è¾“å‡º

### 2. æ·»åŠ è°ƒè¯•æ—¥å¿—

```typescript
it('should do something', 0, () => {
  console.log('DEBUG: è¾“å…¥å‚æ•° xxx');
  const result = functionToTest();
  console.log('DEBUG: è¿”å›ç»“æœ', result);
  expect(result).assertEqual(expected);
});
```

### 3. å•ç‹¬è¿è¡Œå¤±è´¥æµ‹è¯•

- å³é”®ç‚¹å‡»å¤±è´¥çš„æµ‹è¯•ç”¨ä¾‹
- é€‰æ‹© **Run 'æµ‹è¯•åç§°'**
- é¿å…å…¶ä»–æµ‹è¯•å¹²æ‰°

### 4. ä½¿ç”¨æ–­ç‚¹è°ƒè¯•

1. åœ¨æµ‹è¯•ä»£ç ä¸­è®¾ç½®æ–­ç‚¹
2. å³é”®æµ‹è¯• â†’ **Debug 'æµ‹è¯•åç§°'**
3. é€æ­¥æ‰§è¡Œï¼ŒæŸ¥çœ‹å˜é‡å€¼

## âš ï¸ å¸¸è§é—®é¢˜

### Q1: æµ‹è¯•è¿è¡Œæ—¶æç¤º "Module not found"

**åŸå› ï¼š** å¯¼å…¥è·¯å¾„é”™è¯¯

**è§£å†³ï¼š** æ£€æŸ¥å¯¼å…¥è·¯å¾„æ˜¯å¦æ­£ç¡®
```typescript
// æ­£ç¡®çš„ç›¸å¯¹è·¯å¾„
import { GameService } from '../../../main/ets/services/GameService';

// è·¯å¾„å±‚çº§ï¼š
// ohosTest/ets/test/ -> ä¸Šä¸€çº§ -> ä¸Šä¸€çº§ -> main/ets/
```

### Q2: æµ‹è¯•é€šè¿‡ä½†å®é™…è¿è¡Œæœ‰é—®é¢˜

**åŸå› ï¼š** Mock æ•°æ®ä¸å®é™…ä¸ç¬¦

**è§£å†³ï¼š** æ›´æ–° Mock æ•°æ®æˆ–æ·»åŠ é›†æˆæµ‹è¯•

### Q3: æµ‹è¯•åœ¨è®¾å¤‡ä¸Šè¿è¡Œå¤±è´¥

**åŸå› ï¼š** è®¾å¤‡APIç‰ˆæœ¬ä¸åŒ¹é…

**è§£å†³ï¼š** æ£€æŸ¥ build-profile.json5 ä¸­çš„ SDK ç‰ˆæœ¬é…ç½®

### Q4: æ•°æ®æŒä¹…åŒ–æµ‹è¯•å¤±è´¥

**åŸå› ï¼š** Preferences åˆå§‹åŒ–é—®é¢˜

**è§£å†³ï¼š** ç¡®ä¿æµ‹è¯•å‰è°ƒç”¨äº† `UserRepository.init()`

## ğŸ”„ æŒç»­é›†æˆï¼ˆå¯é€‰ï¼‰

### é…ç½®è‡ªåŠ¨åŒ–æµ‹è¯•æµæ°´çº¿

```yaml
# .github/workflows/test.yml (ç¤ºä¾‹)
name: Run Tests

on: [push, pull_request]

jobs:
  test:
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v2
      - name: Setup HarmonyOS SDK
        run: |
          # å®‰è£…SDK
      - name: Run tests
        run: hvigorw test
      - name: Upload results
        uses: actions/upload-artifact@v2
        with:
          name: test-results
          path: test-results/
```

## ğŸ“š å‚è€ƒèµ„æº

- [Hypium æµ‹è¯•æ¡†æ¶å®˜æ–¹æ–‡æ¡£](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/ohos-hypium-guidelines-V5)
- [HarmonyOS æµ‹è¯•æœ€ä½³å®è·µ](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides-V5/instrumented-test-V5)
- é¡¹ç›®æµ‹è¯•ç”¨ä¾‹æ–‡æ¡£ï¼š`TEST_CASES.md`

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

### çŸ­æœŸç›®æ ‡ï¼ˆ1-2å‘¨ï¼‰

- [ ] æ·»åŠ  UI è‡ªåŠ¨åŒ–æµ‹è¯•
- [ ] æ·»åŠ æ€§èƒ½åŸºå‡†æµ‹è¯•
- [ ] å®ç°ä»£ç è¦†ç›–ç‡ç›‘æ§

### ä¸­æœŸç›®æ ‡ï¼ˆ1ä¸ªæœˆï¼‰

- [ ] æ·»åŠ ç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆE2Eï¼‰
- [ ] æ·»åŠ å‹åŠ›æµ‹è¯•
- [ ] é›†æˆåˆ° CI/CD æµæ°´çº¿

### é•¿æœŸç›®æ ‡ï¼ˆæŒç»­ï¼‰

- [ ] å»ºç«‹æµ‹è¯•æ•°æ®ç®¡ç†ä¸­å¿ƒ
- [ ] å®ç°æµ‹è¯•æŠ¥å‘Šè‡ªåŠ¨åŒ–
- [ ] æŒç»­ä¼˜åŒ–æµ‹è¯•ç”¨ä¾‹

---

**æœ€åæ›´æ–°ï¼š** 2026-01-27
**ç»´æŠ¤è€…ï¼š** Claude Code
